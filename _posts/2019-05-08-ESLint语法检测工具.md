---
layout:     post
title:      ESLintè¯­æ³•æ£€æµ‹å·¥å…·
subtitle:   æ•™ä½ å¦‚ä½•ä½¿ç”¨ESLint
date:       2019-05-08
author:     Bilif
header-img: img/post-bg-debug.png
catalog: true
tags:
    - ESLint
    - ä»£ç æ£€æµ‹
---
# ESLintç®€ä»‹
 ESLintæ˜¯ä¸€æ¬¾ä»£ç è§„æ ¼æ£€æŸ¥å·¥å…·ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„ä¿è¯å›¢é˜Ÿçš„ä»£ç è´¨é‡,é¿å…ä½çº§ä»£ç ã€‚

# ESlintç‰¹ç‚¹
* é»˜è®¤è§„åˆ™åŒ…å«æ‰€æœ‰JSHintã€JSLintä¸­å­˜åœ¨çš„æ‰€æœ‰è§„åˆ™ï¼Œæ˜“è¿ç§»ï¼›
* å¯ä»¥è®¾ç½®è­¦å‘Šï¼ˆ1ï¼‰ï¼Œé”™è¯¯ï¼ˆ2ï¼‰ï¼Œå…³é—­ï¼ˆ0ï¼‰ä¸‰ç§è§„æ ¼çš„é…ç½®ï¼›
* åŒ…å«ä»£ç é£æ ¼æ£€æµ‹ï¼›
* æ”¯æŒæ’ä»¶æ‰©å±•ã€è‡ªå®šä¹‰è§„åˆ™ï¼›

# sublimeä¸­å¦‚ä½•å®‰è£…ESLint
######  1.ç¯å¢ƒå‡†å¤‡
* é¦–å…ˆä½ å¾—æœ‰sublime text3ç¼–è¾‘å™¨ï¼Œå¹¶ä¸”å·²ç»å®‰è£…äº†package controlï¼›
* å…¶æ¬¡ä½ å¾—æœ‰nodeç¯å¢ƒï¼Œå¦‚æœä¸çŸ¥é“nodeç¯å¢ƒå¦‚ä½•å®‰è£…ï¼Œè¯·ç‚¹å‡»å‰å¾€ [node](http://blog.csdn.net/zhyh1986/article/details/39249655)ï¼›
* å¥½äº†ï¼Œä»¥ä¸Šç¯å¢ƒå‡†å¤‡å¥½äº†å°±å¯ä»¥æŒ‰ç…§ä¸‹é¢æ­¥éª¤ä¸€æ­¥æ­¥æ¥äº†ã€‚

######  2.å®‰è£…eslintåŒ…æ¨¡å—
å¯ä»¥ä½¿ç”¨npmæˆ–cnpmï¼ˆæ·˜å®ï¼‰æ¥å…¨å±€å®‰è£…eslintã€‚
```
npm install eslint -g
```
######  3.å®‰è£…sublimeLinteræ’ä»¶
åœ¨sublimeä¸­æ‰“å¼€package controlï¼ˆå¿«æ·é”®ctrl + shift + pï¼‰é€‰æ‹©install package ç„¶ååœ¨æœç´¢æ¡†ä¸­æœç´¢sublimeLinteræ’ä»¶ï¼Œç‚¹å‡»å³å¯å®‰è£…ã€‚
![Paste_Image.png](http://upload-images.jianshu.io/upload_images/4190280-8f7e583f8a9c2182.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
######  4.å®‰è£…sublimeLinter-contrib-eslintæ’ä»¶
åŒæ ·çš„åœ¨package controlä¸­æœç´¢sublimeLinter-contrib-eslintæ’ä»¶æ¥è¿›è¡Œå®‰è£…

![Paste_Image.png](http://upload-images.jianshu.io/upload_images/4190280-8cdff41f8c548a83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
######  5.é›†æˆsublimeLinterçš„é…ç½®æ–‡ä»¶
ç‚¹å‡»preferences ==> package settings ==> SublimeLinter ==> Settings-user æ‰“å¼€é…ç½®æ–‡ä»¶ï¼ŒæŸ¥è¯¢pathså…³é”®å­—ï¼Œæ‰¾åˆ°pathsä¸‹é¢çš„*windows*å­—æ®µï¼Œä¿®æ”¹eslintçš„å…¨å±€å‘½ä»¤ï¼š
```
"paths": {
            "linux": [],
            "osx": [],
            "windows": [
                "**/nodejs/eslint.cmd"
            ]
        },
```
######  6.åˆ›å»º.eslintrcè¯­æ³•è§„åˆ™æ–‡ä»¶
å½“å½“å½“ï¼Œç»ˆäºåˆ°äº†æœ€åä¸€æ­¥æ‹‰ã€‚åœ¨è‡ªå·±çš„é¡¹ç›®å·¥ç¨‹æ ¹ç›®å½•ä¸‹é¢åˆ›å»º.eslintrcè¯­æ³•è§„åˆ™é…ç½®æ–‡ä»¶ã€‚
* æ–¹æ³•ä¸€: åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥`eslint --init`å‘½ä»¤è¿›è¡Œè‡ªä¸»é€‰æ‹©åˆ›å»ºæ–‡ä»¶ã€‚å‘½ä»¤è¡Œä¼šæ ¹æ®ç”¨æˆ·è‡ªå·±é€‰æ‹©çš„é£æ ¼æ¥åˆ›å»ºæ–‡ä»¶
![Paste_Image.png](http://upload-images.jianshu.io/upload_images/4190280-5bdb8bb2b64b83b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
* æ–¹æ³•äºŒ: åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥'echo {} > .eslintrc'å‘½ä»¤ç›´æ¥åˆ›å»º.eslintrcæ–‡ä»¶ã€‚ç„¶ååœ¨.eslintrcæ–‡ä»¶ä¸­å¯ä»¥ç›´æ¥å¤åˆ¶ä»¥ä¸‹ä»£ç ,å…·ä½“çš„ruleé…ç½®å¯ä»¥æ ¹æ®è‡ªå·±çš„é¡¹ç›®é€‰æ‹©æ€§çš„ä¿®æ”¹ï¼š
```
{
  "globals": {
    "$": true,                                //zepto
    "define": true,                           //requirejs
    "require": true                           //requirejs
  },
  "env": {
    "browser": true                           //æ‰§è¡Œç¯å¢ƒ æµè§ˆå™¨
  },
  "rules": {
    //å®˜æ–¹æ–‡æ¡£ http://eslint.org/docs/rules/
    //è­¦å‘Š
    // "quotes": [0, "single"],                  //å»ºè®®ä½¿ç”¨å•å¼•å·
    // "no-inner-declarations": [0, "both"],     //ä¸å»ºè®®åœ¨{}ä»£ç å—å†…éƒ¨å£°æ˜å˜é‡æˆ–å‡½æ•°
    "no-extra-boolean-cast": 1,               //å¤šä½™çš„æ„Ÿå¹å·è½¬å¸ƒå°”å‹
    "no-extra-semi": 1,                       //å¤šä½™çš„åˆ†å·
    "no-extra-parens": 1,                     //å¤šä½™çš„æ‹¬å·
    "no-empty": 1,                            //ç©ºä»£ç å—
    "no-use-before-define": [1, "nofunc"],    //ä½¿ç”¨å‰æœªå®šä¹‰
    "complexity": [1, 10],                    //åœˆå¤æ‚åº¦å¤§äº10 è­¦å‘Š

    //å¸¸è§é”™è¯¯
    "comma-dangle": [2, "never"],             //å®šä¹‰æ•°ç»„æˆ–å¯¹è±¡æœ€åå¤šä½™çš„é€—å·
    "no-debugger": 2,                         //debugger è°ƒè¯•ä»£ç æœªåˆ é™¤
    "no-constant-condition": 2,               //å¸¸é‡ä½œä¸ºæ¡ä»¶
    "no-dupe-args": 2,                        //å‚æ•°é‡å¤
    "no-dupe-keys": 2,                        //å¯¹è±¡å±æ€§é‡å¤
    "no-duplicate-case": 2,                   //caseé‡å¤
    "no-empty-character-class": 2,            //æ­£åˆ™æ— æ³•åŒ¹é…ä»»ä½•å€¼
    "no-invalid-regexp": 2,                   //æ— æ•ˆçš„æ­£åˆ™
    "no-func-assign": 2,                      //å‡½æ•°è¢«èµ‹å€¼
    "valid-typeof": 2,                        //æ— æ•ˆçš„ç±»å‹åˆ¤æ–­
    "no-unreachable": 2,                      //ä¸å¯èƒ½æ‰§è¡Œåˆ°çš„ä»£ç 
    "no-unexpected-multiline": 2,             //è¡Œå°¾ç¼ºå°‘åˆ†å·å¯èƒ½å¯¼è‡´ä¸€äº›æ„å¤–æƒ…å†µ
    "no-sparse-arrays": 2,                    //æ•°ç»„ä¸­å¤šå‡ºé€—å·
    "no-shadow-restricted-names": 2,          //å…³é”®è¯ä¸å‘½åå†²çª
    "no-undef": 2,                            //å˜é‡æœªå®šä¹‰
    "no-unused-vars": 2,                      //å˜é‡å®šä¹‰åæœªä½¿ç”¨
    "no-cond-assign": 2,                      //æ¡ä»¶è¯­å¥ä¸­ç¦æ­¢èµ‹å€¼æ“ä½œ
    "no-native-reassign": 2,                  //ç¦æ­¢è¦†ç›–åŸç”Ÿå¯¹è±¡

    //ä»£ç é£æ ¼ä¼˜åŒ–
    "no-else-return": 1,                      //åœ¨elseä»£ç å—ä¸­returnï¼Œelseæ˜¯å¤šä½™çš„
    "no-multi-spaces": 1,                     //ä¸å…è®¸å¤šä¸ªç©ºæ ¼
    "key-spacing": [1, {"beforeColon": false, "afterColon": true}],//objectç›´æ¥é‡å»ºè®®å†™æ³• : åä¸€ä¸ªç©ºæ ¼å‰é¢ä¸ç•™ç©ºæ ¼
    "block-scoped-var": 2,                    //å˜é‡åº”åœ¨å¤–éƒ¨ä¸Šä¸‹æ–‡ä¸­å£°æ˜ï¼Œä¸åº”åœ¨{}ä»£ç å—ä¸­
    "consistent-return": 2,                   //å‡½æ•°è¿”å›å€¼å¯èƒ½æ˜¯ä¸åŒç±»å‹
    "accessor-pairs": 2,                      //object getter/setteræ–¹æ³•éœ€è¦æˆå¯¹å‡ºç°
    "dot-location": [2, "property"],          //æ¢è¡Œè°ƒç”¨å¯¹è±¡æ–¹æ³•  ç‚¹æ“ä½œç¬¦åº”å†™åœ¨è¡Œé¦–
    "no-lone-blocks": 2,                      //å¤šä½™çš„{}åµŒå¥—
    "no-empty-label": 2,                      //æ— ç”¨çš„æ ‡è®°
    "no-extend-native": 2,                    //ç¦æ­¢æ‰©å±•åŸç”Ÿå¯¹è±¡
    "no-floating-decimal": 2,                 //æµ®ç‚¹å‹éœ€è¦å†™å…¨ ç¦æ­¢.1 æˆ– 2.å†™æ³•
    "no-loop-func": 2,                        //ç¦æ­¢åœ¨å¾ªç¯ä½“ä¸­å®šä¹‰å‡½æ•°
    "no-new-func": 2,                         //ç¦æ­¢new Function(...) å†™æ³•
    "no-self-compare": 2,                     //ä¸å…ä¸è‡ªå·±æ¯”è¾ƒä½œä¸ºæ¡ä»¶
    "no-sequences": 2,                        //ç¦æ­¢å¯èƒ½å¯¼è‡´ç»“æœä¸æ˜ç¡®çš„é€—å·æ“ä½œç¬¦
    "no-throw-literal": 2,                    //ç¦æ­¢æŠ›å‡ºä¸€ä¸ªç›´æ¥é‡ åº”æ˜¯Errorå¯¹è±¡
    "no-return-assign": [2, "always"],        //ä¸å…returnæ—¶æœ‰èµ‹å€¼æ“ä½œ
    "no-redeclare": [2, {"builtinGlobals": true}],//ä¸å…è®¸é‡å¤å£°æ˜
    "no-unused-expressions": [2, {"allowShortCircuit": true, "allowTernary": true}],//ä¸æ‰§è¡Œçš„è¡¨è¾¾å¼
    "no-useless-call": 2,                     //æ— æ„ä¹‰çš„å‡½æ•°callæˆ–apply
    "no-useless-concat": 2,                   //æ— æ„ä¹‰çš„string concat
    "no-void": 2,                             //ç¦ç”¨void
    "no-with": 2,                             //ç¦ç”¨with
    "space-infix-ops": 2,                     //æ“ä½œç¬¦å‰åç©ºæ ¼
    "valid-jsdoc": [2, {"requireParamDescription": true, "requireReturnDescription": true}],//jsdoc
    "no-warning-comments": [2, { "terms": ["todo", "fixme", "any other term"], "location": "anywhere" }],//æ ‡è®°æœªå†™æ³¨é‡Š
    "curly": 1                                //ifã€elseã€whileã€forä»£ç å—ç”¨{}åŒ…å›´
  }
}
```
######  7.æˆåŠŸåç•Œé¢é¢„è§ˆ
æ ¹æ®è¯­æ³•è§„åˆ™çš„é…ç½®ï¼Œeslintä¼šè‡ªåŠ¨æ£€æµ‹è¯­æ³•é”™è¯¯ï¼Œå¹¶é«˜äº®æ˜¾ç¤ºï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·å‘¢~
![Paste_Image.png](http://upload-images.jianshu.io/upload_images/4190280-e4da058dd1b91da6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
# gulpä¸­å¦‚ä½•é›†æˆESlint
é€šè¿‡è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·gulpeæ¥é›†æˆeslintä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚
######  1.å®‰è£…gulp-eslintåŒ…æ¨¡å—
é€šè¿‡npm æˆ–è€… cnpm( æ·˜å®ï¼‰æ¥å…¨å±€å®‰è£…gulp-eslint åŒ…æ¨¡å—.
```
npm install gulp-eslint -g
```
######  2.ç¼–å†™gulpé…ç½®æ–‡ä»¶
ç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®çš„gulp.jsé…ç½®æ–‡ä»¶ä¸­ç¼–å†™eslintçš„ä»»åŠ¡å³å¯ã€‚
```
var eslint = require('gulp-eslint');
gulp.task('eslint-task', function(){
      return gulp.src(['app/**/*.js']) //æŒ‡å®šçš„æ ¡éªŒè·¯å¾„
      .pipe(eslint({configFile:"./.eslintrc"})) //ä½¿ç”¨ä½ çš„eslintæ ¡éªŒæ–‡ä»¶
      .pipe(eslint.format())
 });
gulp.task('default', ['eslint-task']);
```
# æ€»ç»“
ä½¿ç”¨eslintèƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…ç¨‹åºå‘˜ç¼–ç è¿‡ç¨‹ä¸­å‡ºç°çš„ä½çº§é”™è¯¯ï¼Œæé«˜è‡ªå·±çš„ä»£ç æ°´å¹³ã€‚ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä»£ç çš„è´¨é‡ï¼Œå¥å£®æ€§å°¤ä¸ºé‡è¦ã€‚eslintèƒ½å¤Ÿè®©å‰ç«¯å·¥ç¨‹å·¥ç¨‹åŒ–æ›´è¿›ä¸€æ­¥ã€‚

# åè®°

**æ„Ÿè°¢æ”¯æŒã€‚è‹¥ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï¼Œå…±å‹‰ã€‚**

**å¦‚æœè§‰å¾—ä¸é”™ï¼Œè®°å¾— ç‚¹èµï¼Œè°¢è°¢å¤§å®¶** ğŸ˜‚

> æ¬¢è¿å…³æ³¨ æˆ‘çš„ï¼š[ã€Blogã€‘](https://bilif.github.io/)[ã€Githubã€‘](https://github.com/Bilif)[ã€æ˜é‡‘ã€‘](https://juejin.im/user/58b5198cac502e00589a6388)[ã€ç®€ä¹¦ã€‘](https://www.jianshu.com/u/94a557704b3e)
